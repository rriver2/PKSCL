{"ast":null,"code":"var _jsxFileName = \"/Users/river2/Desktop/PKSCL/frontend/src/EditEvent.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useRef, useState } from 'react';\nimport './css/EditEvent.css';\nimport PreviewImg from './PreviewImg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction EditEvent(props) {\n  _s();\n\n  let debugAPIURL = \"\"; // debugAPIURL = \"https://cors-jhs.herokuapp.com/https://pkscl.kro.kr\";\n\n  const [eventData, setEventData] = useState();\n  const [deleteReceiptList, SetDeleteReceiptList] = useState([]);\n  const [showImg, setShowImg] = useState(false);\n  useEffect(() => {\n    setEventData(props.editEventData);\n  }, []);\n\n  function changeEventItem(value, item) {\n    let tempEditEventData = { ...eventData\n    };\n    tempEditEventData[item] = value;\n    setEventData(tempEditEventData);\n  }\n\n  function changeReceiptItem(value, j, item) {\n    let tempEditEventData = { ...eventData\n    };\n    tempEditEventData[\"receiptList\"][j][item] = value;\n    setEventData(tempEditEventData);\n  }\n\n  function changeItem(key, value, j, k) {\n    let tempEditEventData = { ...eventData\n    };\n    let item = tempEditEventData[\"receiptList\"][j][\"receiptDetailList\"][k];\n    item[key] = value;\n    item[\"totalAmount\"] = item[\"price\"] * item[\"amount\"];\n    setEventData(tempEditEventData); // var tempShowAllReceiptButton = [...showAllReceiptButton];\n    // tempShowAllReceiptButton[i] = true;\n    // console.log(tempShowAllReceiptButton);\n    // setShowAllReceiptButton(tempShowAllReceiptButton);\n  }\n\n  function eventDeleteButton() {\n    axios.delete(debugAPIURL + '/ledger/?eventNumber=' + eventData[\"eventNumber\"]).then(payload => {\n      switch (payload.status) {\n        case 200:\n          alert(\"행사 장부가 삭제되었습니다.\");\n          break;\n\n        default:\n          break;\n      }\n    }).catch(error => {\n      alert(\"장부를 삭제하는데 실패했습니다.\");\n    });\n  }\n\n  function processImage(file) {\n    if (file != null) {\n      const imageFile = file;\n      if (file[\"name\"] === \"\" || file[\"name\"].includes('/')) return file.name;else {\n        const imageUrl = URL.createObjectURL(imageFile);\n        return imageUrl;\n      }\n    }\n  }\n\n  function receiptDeleteButton(j) {\n    let answer = window.confirm(\"영수증을 삭제하시겠습니까?\");\n\n    if (answer) {\n      if (eventData[\"receiptList\"][j][\"receiptNumber\"] !== undefined) {\n        SetDeleteReceiptList([...deleteReceiptList, eventData[\"receiptList\"][j][\"receiptNumber\"]]);\n      }\n\n      let tempEditEventData = {\n        \"eventNumber\": eventData[\"eventNumber\"],\n        \"eventTitle\": eventData[\"eventTitle\"],\n        \"eventContext\": eventData[\"eventContext\"],\n        \"receiptList\": eventData[\"receiptList\"].filter((event, i) => {\n          return i !== j;\n        })\n      };\n      setEventData(tempEditEventData);\n      alert(\"영수증이 삭제되었습니다.\");\n    }\n  }\n\n  function receiptDetailDeleteButton(j, k) {\n    let tempEditEventData = {\n      \"eventNumber\": eventData[\"eventNumber\"],\n      \"eventTitle\": eventData[\"eventTitle\"],\n      \"eventContext\": eventData[\"eventContext\"],\n      \"receiptList\": eventData[\"receiptList\"].map((receipt, p) => {\n        if (p !== j) return receipt;\n        return {\n          \"receiptNumber\": receipt[\"receiptNumber\"],\n          \"receiptTitle\": receipt[\"receiptTitle\"],\n          \"receiptImg\": receipt[\"receiptImg\"],\n          \"receiptContext\": receipt[\"receiptContext\"],\n          \"receiptDetailList\": receipt[\"receiptDetailList\"].filter((event, i) => {\n            return i !== k;\n          })\n        };\n      })\n    };\n    setEventData(tempEditEventData);\n  }\n\n  function sumItems(price, amount) {\n    return price * amount;\n  }\n\n  function sumReceipt(receiptDetailList) {\n    let sumReceiptValue = 0;\n\n    if (receiptDetailList !== undefined) {\n      for (let i = 0; i < receiptDetailList.length; i++) {\n        let item = receiptDetailList[i];\n        sumReceiptValue = sumReceiptValue + sumItems(item[\"price\"], item[\"amount\"]);\n      }\n    }\n\n    return sumReceiptValue;\n  }\n\n  function uploadImg(img, j) {\n    let tempEditEventData = { ...eventData\n    };\n    tempEditEventData[\"receiptList\"][j][\"receiptImg\"] = img;\n    setEventData(tempEditEventData);\n  }\n\n  function receiptTableAddButton(j) {\n    let tempEditEventData = { ...eventData\n    };\n    tempEditEventData[\"receiptList\"][j][\"receiptDetailList\"].push({\n      \"context\": \"\",\n      \"price\": \"\",\n      \"amount\": \"\",\n      \"totalAmount\": \"\"\n    });\n    setEventData(tempEditEventData);\n  }\n\n  function receiptAddButton() {\n    let tempEditEventData = { ...eventData\n    };\n    tempEditEventData[\"receiptList\"].push({\n      \"receiptTitle\": \"\",\n      \"receiptImg\": {\n        name: \"\"\n      },\n      \"receiptContext\": \"\",\n      \"receiptDetailList\": [{\n        \"context\": \"\",\n        \"price\": \"\",\n        \"amount\": \"\",\n        \"totalAmount\": \"\"\n      }]\n    });\n    setEventData(tempEditEventData);\n  }\n\n  function editEventButton() {\n    console.log(\"payload\");\n    console.log(eventData);\n    editEventNameAPI();\n    sendReciept();\n    if (deleteReceiptList.length !== 0) deleteReceiptListAPI();\n    props.setEditEventState(false);\n  }\n\n  function editEventNameAPI() {\n    let payload = {\n      \"eventNumber\": eventData[\"eventNumber\"],\n      \"eventTitle\": eventData[\"eventTitle\"],\n      \"eventContext\": eventData[\"eventContext\"]\n    };\n    new Promise((resolve, reject) => {\n      axios.patch(\"/event\", payload).then(payload => {\n        alert(\"행사 이름, 행사 설명 수정 완료\");\n        resolve(true);\n      }).catch(error => {\n        alert(\"행사 이름, 행사 설명 수정 실패\");\n        reject(false);\n      });\n    });\n  }\n\n  function deleteReceiptListAPI() {\n    let deleteReceiptListURL = \"\";\n\n    for (let i = 0; i < deleteReceiptList.length; i++) {\n      if (deleteReceiptListURL === \"\") {\n        deleteReceiptListURL = deleteReceiptListURL + deleteReceiptList[i];\n      } else {\n        deleteReceiptListURL = deleteReceiptListURL + \",\" + deleteReceiptList[i];\n      }\n    }\n\n    console.log(\"deleteReceiptListAPI\");\n    console.log(\"/receipt\" + deleteReceiptListURL);\n    axios.delete(\"/receipt?receiptNumber=\" + deleteReceiptListURL).then(payload => {\n      alert(\"영수증 삭제 완료\");\n    }).catch(error => {\n      alert(\"영수증 삭제 실패\");\n    });\n  }\n\n  function postReceipt(j) {\n    let payload = new FormData();\n    let receiptData = eventData[\"receiptList\"][j];\n    payload.append(\"eventNumber\", eventData[\"eventNumber\"]);\n    payload.append(\"receiptTitle\", receiptData[\"receiptTitle\"]);\n    payload.append(\"receiptContext\", receiptData[\"receiptContext\"]);\n\n    for (var i = 0; i < receiptData[\"receiptDetailList\"].length; i++) {\n      payload.append(`context[${i}]`, receiptData[\"receiptDetailList\"][i][\"context\"]);\n      payload.append(`price[${i}]`, receiptData[\"receiptDetailList\"][i][\"price\"]);\n      payload.append(`amount[${i}]`, receiptData[\"receiptDetailList\"][i][\"amount\"]);\n    }\n\n    axios.post(debugAPIURL + \"/receipt\", payload, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(payload => {\n      switch (payload.status) {\n        case 200:\n          alert(\"영수증 추가 완료\");\n          return;\n\n        default:\n          alert(\"success: \" + payload.status);\n          return;\n      }\n    }).catch(error => {\n      switch (error.response.status) {\n        case 400:\n          alert(\"영수증 추가 실패\");\n          return;\n\n        default:\n          alert(\"error: \" + error.response.status);\n          return;\n      }\n    });\n  }\n\n  function putReceipt(j) {\n    let payload = new FormData();\n    let receiptData = eventData[\"receiptList\"][j];\n    payload.append(\"receiptNumber\", receiptData[\"receiptNumber\"]);\n    payload.append(\"receiptTitle\", receiptData[\"receiptTitle\"]);\n    payload.append(\"receiptContext\", receiptData[\"receiptContext\"]);\n\n    for (var i = 0; i < receiptData[\"receiptDetailList\"].length; i++) {\n      payload.append(`context[${i}]`, receiptData[\"receiptDetailList\"][i][\"context\"]);\n      payload.append(`price[${i}]`, receiptData[\"receiptDetailList\"][i][\"price\"]);\n      payload.append(`amount[${i}]`, receiptData[\"receiptDetailList\"][i][\"amount\"]);\n    }\n\n    axios.put(debugAPIURL + \"/receipt\", payload, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(payload => {\n      switch (payload.status) {\n        case 200:\n          alert(\"영수증 수정 완료\");\n          return;\n\n        default:\n          alert(\"success: \" + payload.status);\n          return;\n      }\n    }).catch(error => {\n      switch (error.response.status) {\n        case 400:\n          alert(\"영수증 수정 실패\");\n          return;\n\n        default:\n          alert(\"error: \" + error.response.status);\n          return;\n      }\n    });\n  }\n\n  function sendReciept() {\n    eventData[\"receiptList\"].map((receipt, j) => {\n      if (receipt[\"receiptNumber\"] === undefined) {\n        postReceipt(j);\n      } else {\n        putReceipt(j);\n      }\n    });\n  }\n\n  return (\n    /*#__PURE__*/\n    // <div className=\"editEventContainer\">\n    _jsxDEV(\"div\", {\n      className: \"editEventBox\",\n      children: [showImg ? /*#__PURE__*/_jsxDEV(PreviewImg, {\n        setShowImg: setShowImg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 23\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quarterData\",\n        style: {\n          marginTop: \"0\"\n        },\n        children: eventData === undefined ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uC785\\uB825\\uB41C \\uD589\\uC0AC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"editEventCard\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cardContent\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"eventSource\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: \"230px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"eventTitle\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      style: {\n                        border: \"transparent\",\n                        textAlign: \"left\",\n                        width: \"450px\"\n                      },\n                      placeholder: \"행사 제목을 입력하세요\",\n                      value: eventData[\"eventTitle\"],\n                      onInput: e => {\n                        changeEventItem(e.target.value, \"eventTitle\");\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: \"500px\"\n                    },\n                    children: [\" \\uD589\\uC0AC \\uCD1D \\uAE08\\uC561 : \", props.editEventAmount, \"\\uC6D0\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"eventButtons\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    eventDeleteButton();\n                  },\n                  style: {\n                    marginRight: \"15px\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"far fa-trash-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 49\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    editEventButton();\n                  },\n                  style: {\n                    marginRight: \"15px\"\n                  },\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fas fa-check\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 81\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    if (window.confirm(\"행사 수정을 취소하시겠습니까?\")) {\n                      props.setEditEventState(false);\n                      alert(\"취소되었습니다.\");\n                    }\n                  },\n                  style: {\n                    marginRight: \"15px\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fas fa-times\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 80\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                style: {\n                  border: \"transparent\",\n                  textAlign: \"left\",\n                  width: \"650px\"\n                },\n                laceholder: eventData[\"eventContext\"],\n                value: eventData[\"eventContext\"],\n                onInput: e => {\n                  changeEventItem(e.target.value, \"eventContext\");\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"receiptContent\",\n              children: eventData[\"receiptList\"].map((receipt, j) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"receiptCard\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"receiptResource\",\n                    children: eventData[\"receiptList\"].length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: \"\\uC785\\uB825\\uB41C \\uC601\\uC218\\uC99D\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 75\n                    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"receiptTitle\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            onClick: () => {\n                              receiptDeleteButton(j);\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"far fa-trash-alt\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 386,\n                              columnNumber: 89\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 385,\n                            columnNumber: 85\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            style: {\n                              border: \"transparent\",\n                              textAlign: \"left\",\n                              width: \"350px\"\n                            },\n                            placeholder: \"영수증 제목을 입력하세요\",\n                            value: eventData[\"receiptList\"][j][\"receiptTitle\"],\n                            onInput: e => {\n                              changeReceiptItem(e.target.value, j, \"receiptTitle\");\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 388,\n                            columnNumber: 85\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 384,\n                          columnNumber: 81\n                        }, this), eventData[\"receiptList\"][j][\"receiptDetailList\"].length === 0 ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [j + 1, \"\\uBC88\\uC9F8 \\uC601\\uC218\\uC99D \\uAE08\\uC561 : \", sumReceipt(eventData[\"receiptList\"][j][\"receiptDetailList\"]), \"\\uC6D0\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 401,\n                          columnNumber: 92\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 383,\n                        columnNumber: 77\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          style: {\n                            border: \"transparent\",\n                            textAlign: \"right\",\n                            width: \"400px\"\n                          },\n                          placeholder: \"영수증 비고를 입력하세요\",\n                          value: eventData[\"receiptList\"][j][\"receiptContext\"],\n                          onInput: e => {\n                            changeReceiptItem(e.target.value, j, \"receiptContext\");\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 412,\n                          columnNumber: 81\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 409,\n                        columnNumber: 77\n                      }, this), receipt[\"receiptDetailList\"].length === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: \"\\uC785\\uB825\\uB41C \\uC601\\uC218\\uC99D \\uB0B4\\uC5ED\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 425,\n                          columnNumber: 90\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"editSubmitButton\",\n                          type: \"button\",\n                          onClick: () => {\n                            receiptTableAddButton(j);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            class: \"fas fa-plus\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 429,\n                            columnNumber: 92\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 426,\n                          columnNumber: 85\n                        }, this)]\n                      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"table\", {\n                          className: \"receiptTable\",\n                          style: {\n                            width: \"400px\"\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                                style: {\n                                  width: \"40px\"\n                                },\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  class: \"far fa-trash-alt\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 435,\n                                  columnNumber: 131\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 435,\n                                columnNumber: 101\n                              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                style: {\n                                  width: \"90px\"\n                                },\n                                children: \"\\uD488\\uBA85\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 436,\n                                columnNumber: 101\n                              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                style: {\n                                  width: \"90px\"\n                                },\n                                children: \"\\uB2E8\\uAC00\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 437,\n                                columnNumber: 101\n                              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                style: {\n                                  width: \"90px\"\n                                },\n                                children: \"\\uC218\\uB7C9\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 438,\n                                columnNumber: 101\n                              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                style: {\n                                  width: \"90px\"\n                                },\n                                children: \"\\uAC00\\uACA9\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 439,\n                                columnNumber: 101\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 434,\n                              columnNumber: 97\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 433,\n                            columnNumber: 93\n                          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                            children: receipt[\"receiptDetailList\"].map((item, k) => {\n                              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                                  style: {\n                                    width: \"40px\"\n                                  },\n                                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                                    onClick: () => {\n                                      receiptDetailDeleteButton(j, k);\n                                    },\n                                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                      className: \"far fa-trash-alt\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 448,\n                                      columnNumber: 117\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 447,\n                                    columnNumber: 113\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 446,\n                                  columnNumber: 109\n                                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                                  style: {\n                                    width: \"90px\"\n                                  },\n                                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                                    type: \"text\",\n                                    style: {\n                                      border: \"transparent\",\n                                      textAlign: \"center\",\n                                      width: \"90px\"\n                                    },\n                                    placeholder: \"품명\",\n                                    value: item[\"context\"],\n                                    onInput: e => {\n                                      changeItem(\"context\", e.target.value, j, k);\n                                    }\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 452,\n                                    columnNumber: 113\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 451,\n                                  columnNumber: 109\n                                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                                  style: {\n                                    width: \"90px\"\n                                  },\n                                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                                    type: \"text\",\n                                    style: {\n                                      border: \"transparent\",\n                                      textAlign: \"center\",\n                                      width: \"90px\"\n                                    },\n                                    placeholder: \"가격\",\n                                    value: item[\"price\"],\n                                    onInput: e => {\n                                      changeItem(\"price\", e.target.value.replace(/[^0-9]/g, ''), j, k);\n                                    }\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 465,\n                                    columnNumber: 113\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 463,\n                                  columnNumber: 109\n                                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                                  style: {\n                                    width: \"90px\"\n                                  },\n                                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                                    type: \"text\",\n                                    style: {\n                                      border: \"transparent\",\n                                      textAlign: \"center\",\n                                      width: \"90px\"\n                                    },\n                                    placeholder: \"단가\",\n                                    value: item[\"amount\"],\n                                    onInput: e => {\n                                      changeItem(\"amount\", e.target.value.replace(/[^0-9]/g, ''), j, k);\n                                    }\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 476,\n                                    columnNumber: 113\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 475,\n                                  columnNumber: 109\n                                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                                  style: {\n                                    width: \"90px\",\n                                    textAlign: \"center\"\n                                  },\n                                  children: item[\"totalAmount\"]\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 486,\n                                  columnNumber: 109\n                                }, this)]\n                              }, k, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 445,\n                                columnNumber: 105\n                              }, this);\n                            })\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 442,\n                            columnNumber: 93\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              display: \"flex\",\n                              justifyContent: \"center\",\n                              width: \"100%\"\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"button\", {\n                              className: \"submitButton\",\n                              type: \"button\",\n                              style: {\n                                margin: \"0\"\n                              },\n                              onClick: () => {\n                                var tempEditEventData = { ...eventData\n                                };\n                                tempEditEventData[\"receiptList\"][j][\"receiptDetailList\"].push({\n                                  context: \"\",\n                                  price: \"\",\n                                  amount: \"\",\n                                  totalAmount: \"\"\n                                });\n                                setEventData(tempEditEventData);\n                              },\n                              children: \"\\uD56D\\uBAA9 \\uCD94\\uAC00\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 494,\n                              columnNumber: 97\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 493,\n                            columnNumber: 93\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 432,\n                          columnNumber: 89\n                        }, this)\n                      }, void 0, false)]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 61\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"uploadimg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: processImage(receipt[\"receiptImg\"]),\n                      style: {\n                        backgroundColor: \"var(--color-leftPanel)\"\n                      },\n                      alt: processImage(receipt[\"receiptImg\"]),\n                      height: \"150\",\n                      width: \"100\",\n                      title: \"\\uC601\\uC218\\uC99D \\uC0AC\\uC9C4\",\n                      onClick: () => {\n                        setShowImg(true);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 520,\n                      columnNumber: 65\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      id: \"receiptImg\",\n                      accept: \"image/*\",\n                      onChange: e => {\n                        uploadImg(e.target.files[0], j);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 527,\n                      columnNumber: 65\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 517,\n                    columnNumber: 61\n                  }, this)]\n                }, j, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 57\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: \"650px\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                position: \"relative\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"editSubmitButton\",\n                type: \"button\",\n                onClick: () => {\n                  receiptAddButton();\n                },\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fas fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 48\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cardImg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }, this)\n  );\n}\n\n_s(EditEvent, \"WGGTdFedSekYXTbPAc18uiqU7l0=\");\n\n_c = EditEvent;\nexport default EditEvent;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditEvent\");","map":{"version":3,"sources":["/Users/river2/Desktop/PKSCL/frontend/src/EditEvent.js"],"names":["axios","React","useEffect","useRef","useState","PreviewImg","EditEvent","props","debugAPIURL","eventData","setEventData","deleteReceiptList","SetDeleteReceiptList","showImg","setShowImg","editEventData","changeEventItem","value","item","tempEditEventData","changeReceiptItem","j","changeItem","key","k","eventDeleteButton","delete","then","payload","status","alert","catch","error","processImage","file","imageFile","includes","name","imageUrl","URL","createObjectURL","receiptDeleteButton","answer","window","confirm","undefined","filter","event","i","receiptDetailDeleteButton","map","receipt","p","sumItems","price","amount","sumReceipt","receiptDetailList","sumReceiptValue","length","uploadImg","img","receiptTableAddButton","push","receiptAddButton","editEventButton","console","log","editEventNameAPI","sendReciept","deleteReceiptListAPI","setEditEventState","Promise","resolve","reject","patch","deleteReceiptListURL","postReceipt","FormData","receiptData","append","post","headers","response","putReceipt","put","marginTop","width","border","textAlign","e","target","editEventAmount","marginRight","replace","display","justifyContent","margin","context","totalAmount","backgroundColor","files","position"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useRef, useState } from 'react';\nimport './css/EditEvent.css'\nimport PreviewImg from './PreviewImg';\n\nfunction EditEvent(props) {\n    let debugAPIURL = \"\";\n    // debugAPIURL = \"https://cors-jhs.herokuapp.com/https://pkscl.kro.kr\";\n\n    const [eventData, setEventData] = useState();\n    const [deleteReceiptList, SetDeleteReceiptList] = useState([]);\n    const [showImg, setShowImg] = useState(false);\n\n    useEffect(() => {\n        setEventData(props.editEventData);\n    }, []);\n\n    function changeEventItem(value, item) {\n        let tempEditEventData = { ...eventData };\n        tempEditEventData[item] = value;\n        setEventData(tempEditEventData);\n    }\n\n    function changeReceiptItem(value, j, item) {\n        let tempEditEventData = { ...eventData };\n        tempEditEventData[\"receiptList\"][j][item] = value;\n        setEventData(tempEditEventData);\n    }\n\n    function changeItem(key, value, j, k) {\n        let tempEditEventData = { ...eventData };\n        let item = tempEditEventData[\"receiptList\"][j][\"receiptDetailList\"][k];\n        item[key] = value;\n        item[\"totalAmount\"] = item[\"price\"] * item[\"amount\"];\n        setEventData(tempEditEventData);\n        // var tempShowAllReceiptButton = [...showAllReceiptButton];\n        // tempShowAllReceiptButton[i] = true;\n        // console.log(tempShowAllReceiptButton);\n        // setShowAllReceiptButton(tempShowAllReceiptButton);\n    }\n\n    function eventDeleteButton() {\n        axios.delete(debugAPIURL + '/ledger/?eventNumber=' + eventData[\"eventNumber\"])\n            .then((payload) => {\n                switch (payload.status) {\n                    case 200:\n                        alert(\"행사 장부가 삭제되었습니다.\");\n                        break;\n                    default: break;\n                }\n            }).catch((error) => {\n                alert(\"장부를 삭제하는데 실패했습니다.\");\n            })\n    }\n\n    function processImage(file) {\n        if (file != null) {\n            const imageFile = file;\n\n            if (file[\"name\"] === \"\" || file[\"name\"].includes('/')) return file.name;\n            else {\n                const imageUrl = URL.createObjectURL(imageFile);\n                return imageUrl;\n            }\n        }\n    }\n\n    function receiptDeleteButton(j) {\n        let answer = window.confirm(\"영수증을 삭제하시겠습니까?\");\n        if (answer) {\n            if (eventData[\"receiptList\"][j][\"receiptNumber\"] !== undefined) {\n                SetDeleteReceiptList([...deleteReceiptList, eventData[\"receiptList\"][j][\"receiptNumber\"]])\n            }\n            let tempEditEventData = {\n                \"eventNumber\": eventData[\"eventNumber\"],\n                \"eventTitle\": eventData[\"eventTitle\"],\n                \"eventContext\": eventData[\"eventContext\"],\n                \"receiptList\":\n                    eventData[\"receiptList\"].filter(\n                        (event, i) => {\n                            return (i !== j)\n                        })\n            }\n            setEventData(tempEditEventData);\n            alert(\"영수증이 삭제되었습니다.\");\n        }\n    }\n\n    function receiptDetailDeleteButton(j, k) {\n        let tempEditEventData = {\n            \"eventNumber\": eventData[\"eventNumber\"],\n            \"eventTitle\": eventData[\"eventTitle\"],\n            \"eventContext\": eventData[\"eventContext\"],\n            \"receiptList\":\n                eventData[\"receiptList\"].map((receipt, p) => {\n                    if (p !== j) return receipt;\n                    return ({\n                        \"receiptNumber\": receipt[\"receiptNumber\"],\n                        \"receiptTitle\": receipt[\"receiptTitle\"],\n                        \"receiptImg\": receipt[\"receiptImg\"],\n                        \"receiptContext\": receipt[\"receiptContext\"],\n                        \"receiptDetailList\":\n                            receipt[\"receiptDetailList\"].filter(\n                                (event, i) => {\n                                    return (i !== k)\n                                })\n                    }\n                    )\n                })\n        }\n        setEventData(tempEditEventData);\n    }\n\n    function sumItems(price, amount) {\n        return price * amount;\n    }\n\n    function sumReceipt(receiptDetailList) {\n        let sumReceiptValue = 0;\n        if (receiptDetailList !== undefined) {\n\n            for (let i = 0; i < receiptDetailList.length; i++) {\n                let item = receiptDetailList[i];\n                sumReceiptValue = sumReceiptValue + sumItems(item[\"price\"], item[\"amount\"]);\n            }\n        }\n        return sumReceiptValue;\n    }\n\n    function uploadImg(img, j) {\n        let tempEditEventData = { ...eventData };\n        tempEditEventData[\"receiptList\"][j][\"receiptImg\"] = img;\n        setEventData(tempEditEventData);\n    }\n\n    function receiptTableAddButton(j){\n        let tempEditEventData = { ...eventData };\n        tempEditEventData[\"receiptList\"][j][\"receiptDetailList\"].push({\n                    \"context\": \"\",\n                    \"price\": \"\",\n                    \"amount\": \"\",\n                    \"totalAmount\": \"\"\n        })\n        setEventData(tempEditEventData);\n    }\n\n    function receiptAddButton() {\n        let tempEditEventData = { ...eventData };\n        tempEditEventData[\"receiptList\"].push({\n\n            \"receiptTitle\": \"\",\n            \"receiptImg\": { name: \"\" },\n            \"receiptContext\": \"\",\n            \"receiptDetailList\": [\n                {\n                    \"context\": \"\",\n                    \"price\": \"\",\n                    \"amount\": \"\",\n                    \"totalAmount\": \"\"\n\n                }\n            ]\n        })\n        setEventData(tempEditEventData);\n    }\n\n    function editEventButton() {\n        console.log(\"payload\")\n        console.log(eventData)\n        editEventNameAPI();\n        sendReciept();\n        if (deleteReceiptList.length !== 0) deleteReceiptListAPI();\n        props.setEditEventState(false)\n\n    }\n\n    function editEventNameAPI() {\n\n        let payload = {\n            \"eventNumber\": eventData[\"eventNumber\"],\n            \"eventTitle\": eventData[\"eventTitle\"],\n            \"eventContext\": eventData[\"eventContext\"]\n        }\n        new Promise((resolve,reject)=>{\n            axios.patch(\"/event\", payload)\n            .then((payload) => {\n                alert(\"행사 이름, 행사 설명 수정 완료\")\n                resolve(true)\n            })\n            .catch((error) => {\n                alert(\"행사 이름, 행사 설명 수정 실패\")\n                reject(false)\n            })\n        })\n    }\n\n    function deleteReceiptListAPI() {\n        let deleteReceiptListURL = \"\";\n        for (let i = 0; i < deleteReceiptList.length; i++) {\n            if (deleteReceiptListURL === \"\") {\n                deleteReceiptListURL = deleteReceiptListURL + deleteReceiptList[i];\n            } else {\n                deleteReceiptListURL = deleteReceiptListURL + \",\" + deleteReceiptList[i];\n            }\n        }\n        console.log(\"deleteReceiptListAPI\")\n        console.log(\"/receipt\" + deleteReceiptListURL)\n        axios.delete(\"/receipt?receiptNumber=\" + deleteReceiptListURL)\n            .then((payload) => {\n                alert(\"영수증 삭제 완료\")\n            })\n            .catch((error) => {\n                alert(\"영수증 삭제 실패\")\n            })\n    }\n\n    function postReceipt(j) {\n\n        let payload = new FormData();\n\n        let receiptData = eventData[\"receiptList\"][j];\n\n        payload.append(\"eventNumber\", eventData[\"eventNumber\"]);\n        payload.append(\"receiptTitle\", receiptData[\"receiptTitle\"]);\n        payload.append(\"receiptContext\", receiptData[\"receiptContext\"]);\n\n        for (var i = 0; i < receiptData[\"receiptDetailList\"].length; i++) {\n            payload.append(`context[${i}]`, receiptData[\"receiptDetailList\"][i][\"context\"]);\n            payload.append(`price[${i}]`, receiptData[\"receiptDetailList\"][i][\"price\"]);\n            payload.append(`amount[${i}]`, receiptData[\"receiptDetailList\"][i][\"amount\"]);\n        }\n\n\n        axios.post(debugAPIURL + \"/receipt\", payload,\n            {\n                headers: { 'Content-Type': 'multipart/form-data' }\n            }\n        )\n            .then((payload) => {\n                switch (payload.status) {\n                    case 200:\n                        alert(\"영수증 추가 완료\");\n                        return;\n                    default: alert(\"success: \" + payload.status); return;\n                }\n            })\n            .catch((error) => {\n                switch (error.response.status) {\n                    case 400: alert(\"영수증 추가 실패\"); return;\n                    default: alert(\"error: \" + error.response.status); return;\n                }\n            })\n\n    }\n\n    function putReceipt(j) {\n\n        let payload = new FormData();\n        let receiptData = eventData[\"receiptList\"][j];\n\n        payload.append(\"receiptNumber\", receiptData[\"receiptNumber\"]);\n        payload.append(\"receiptTitle\", receiptData[\"receiptTitle\"]);\n        payload.append(\"receiptContext\", receiptData[\"receiptContext\"]);\n\n        for (var i = 0; i < receiptData[\"receiptDetailList\"].length; i++) {\n            payload.append(`context[${i}]`, receiptData[\"receiptDetailList\"][i][\"context\"]);\n            payload.append(`price[${i}]`, receiptData[\"receiptDetailList\"][i][\"price\"]);\n            payload.append(`amount[${i}]`, receiptData[\"receiptDetailList\"][i][\"amount\"]);\n        }\n\n\n\n\n\n\n        axios.put(debugAPIURL + \"/receipt\", payload,\n            {\n                headers: { 'Content-Type': 'multipart/form-data' }\n            }\n        )\n            .then((payload) => {\n                switch (payload.status) {\n                    case 200:\n                        alert(\"영수증 수정 완료\");\n                        return;\n                    default: alert(\"success: \" + payload.status); return;\n                }\n            })\n            .catch((error) => {\n                switch (error.response.status) {\n                    case 400: alert(\"영수증 수정 실패\"); return;\n                    default: alert(\"error: \" + error.response.status); return;\n                }\n            })\n\n    }\n    function sendReciept() {\n\n        eventData[\"receiptList\"].map((receipt, j) => {\n            if (receipt[\"receiptNumber\"] === undefined) {\n                postReceipt(j);\n            } else {\n                putReceipt(j);\n            }\n        }\n        )\n\n    }\n\n    return (\n        // <div className=\"editEventContainer\">\n        <div className=\"editEventBox\">\n            {\n                showImg\n                    ? <PreviewImg setShowImg={setShowImg}></PreviewImg>\n                    : null\n            }\n            <div className=\"quarterData\" style={{ marginTop: \"0\" }}>\n                {\n                    eventData === undefined\n                        ? <div>입력된 행사가 없습니다.</div>\n                        : (\n                            <div className=\"editEventCard\" >\n                                <div className=\"cardContent\">\n                                    <div className=\"eventSource\">\n                                        <div style={{ width: \"230px\" }}>\n                                            <div className=\"eventTitle\">\n                                                <h4>\n\n                                                    <input type=\"text\" style={{ border: \"transparent\", textAlign: \"left\", width: \"450px\" }}\n                                                        placeholder={\"행사 제목을 입력하세요\"}\n                                                        value={eventData[\"eventTitle\"]}\n                                                        onInput={\n                                                            (e) => {\n                                                                changeEventItem(e.target.value, \"eventTitle\");\n                                                            }}></input>\n\n                                                </h4>\n                                                <div style={{ width: \"500px\" }}> 행사 총 금액 : {props.editEventAmount}원</div>\n                                            </div>\n\n                                        </div>\n\n\n                                        <div className=\"eventButtons\">\n                                            <button onClick={() => { eventDeleteButton(); }} style={{ marginRight: \"15px\" }}>\n                                                <i class=\"far fa-trash-alt\"></i> </button>\n                                            <button onClick={() => {\n                                                editEventButton();\n                                            }} style={{ marginRight: \"15px\" }}> <i class=\"fas fa-check\"></i> </button>\n                                            <button onClick={() => {\n                                                if (window.confirm(\"행사 수정을 취소하시겠습니까?\")) {\n                                                    props.setEditEventState(false)\n                                                    alert(\"취소되었습니다.\")\n                                                }\n\n                                            }} style={{ marginRight: \"15px\" }}><i class=\"fas fa-times\"></i> </button>\n                                        </div>\n                                    </div>\n\n                                    <div>\n                                        <input type=\"text\" style={{ border: \"transparent\", textAlign: \"left\", width: \"650px\" }}\n                                            laceholder={eventData[\"eventContext\"]}\n                                            value={eventData[\"eventContext\"]}\n                                            onInput={\n                                                (e) => {\n                                                    changeEventItem(e.target.value, \"eventContext\");\n                                                }}></input>\n\n                                    </div>\n\n                                    {\n                                        <div id=\"receiptContent\" >\n                                            {\n                                                eventData[\"receiptList\"].map((receipt, j) => {\n                                                    return (\n                                                        <div className=\"receiptCard\" key={j}>\n                                                            <div className=\"receiptResource\">\n                                                                {\n                                                                    eventData[\"receiptList\"].length === 0\n                                                                        ? <div>입력된 영수증이 없습니다.</div>\n                                                                        : (<>\n                                                                            <div className=\"receiptTitle\">\n                                                                                <h5>\n                                                                                    <span onClick={() => { receiptDeleteButton(j); }}>\n                                                                                        <i className=\"far fa-trash-alt\"></i>\n                                                                                    </span>\n                                                                                    <input type=\"text\" style={{ border: \"transparent\", textAlign: \"left\", width: \"350px\" }}\n                                                                                        placeholder={\"영수증 제목을 입력하세요\"}\n                                                                                        value={eventData[\"receiptList\"][j][\"receiptTitle\"]}\n\n                                                                                        onInput={\n                                                                                            (e) => {\n                                                                                                changeReceiptItem(e.target.value, j, \"receiptTitle\");\n                                                                                            }}></input>\n\n                                                                                </h5>\n                                                                                {\n                                                                                    eventData[\"receiptList\"][j][\"receiptDetailList\"].length === 0\n                                                                                        ? null\n                                                                                        : (<div>\n                                                                                            {j + 1}번째 영수증 금액 : {sumReceipt(eventData[\"receiptList\"][j][\"receiptDetailList\"])}원\n                                                                                        </div>)\n                                                                                }\n\n\n                                                                            </div>\n\n                                                                            <div>\n\n\n                                                                                <input type=\"text\" style={{ border: \"transparent\", textAlign: \"right\", width: \"400px\" }}\n                                                                                    placeholder={\"영수증 비고를 입력하세요\"}\n                                                                                    value={eventData[\"receiptList\"][j][\"receiptContext\"]}\n                                                                                    onInput={\n                                                                                        (e) => {\n                                                                                            changeReceiptItem(e.target.value, j, \"receiptContext\");\n                                                                                        }}>\n                                                                                </input>\n                                                                            </div>\n\n\n                                                                            {\n                                                                                receipt[\"receiptDetailList\"].length === 0\n                                                                                    ? (<><div>입력된 영수증 내역이 없습니다.</div>\n                                                                                    <button className='editSubmitButton' type='button'\n                                                                                        onClick={() => {\n                                                                                            receiptTableAddButton(j);\n                                                                                        }}><i class=\"fas fa-plus\"></i></button>\n                                                                                    </>)\n                                                                                    : (<>\n                                                                                        <table className=\"receiptTable\" style={{ width: \"400px\" }}>\n                                                                                            <thead >\n                                                                                                <tr>\n                                                                                                    <th style={{ width: \"40px\" }}><i class=\"far fa-trash-alt\"></i></th>\n                                                                                                    <th style={{ width: \"90px\" }}>품명</th>\n                                                                                                    <th style={{ width: \"90px\" }}>단가</th>\n                                                                                                    <th style={{ width: \"90px\" }}>수량</th>\n                                                                                                    <th style={{ width: \"90px\" }}>가격</th>\n                                                                                                </tr>\n                                                                                            </thead>\n                                                                                            <tbody>\n                                                                                                {receipt[\"receiptDetailList\"].map((item, k) => {\n                                                                                                    return (\n                                                                                                        <tr key={k}>\n                                                                                                            <td style={{ width: \"40px\" }}>\n                                                                                                                <span onClick={() => { receiptDetailDeleteButton(j, k); }}>\n                                                                                                                    <i className=\"far fa-trash-alt\"></i>\n                                                                                                                </span>\n                                                                                                            </td>\n                                                                                                            <td style={{ width: \"90px\" }}>\n                                                                                                                <input type=\"text\" style={{ border: \"transparent\", textAlign: \"center\", width: \"90px\" }}\n                                                                                                                    placeholder={\"품명\"}\n                                                                                                                    value={item[\"context\"]}\n                                                                                                                    onInput={\n                                                                                                                        (e) => {\n                                                                                                                            changeItem(\"context\", e.target.value, j, k);\n                                                                                                                        }}></input>\n\n                                                                                                            </td>\n\n\n                                                                                                            <td style={{ width: \"90px\" }}>\n\n                                                                                                                <input type=\"text\" style={{ border: \"transparent\", textAlign: \"center\", width: \"90px\" }}\n                                                                                                                    placeholder={\"가격\"}\n                                                                                                                    value={item[\"price\"]}\n                                                                                                                    onInput={\n                                                                                                                        (e) => {\n                                                                                                                            changeItem(\"price\", e.target.value.replace(/[^0-9]/g, ''), j, k);\n                                                                                                                        }}></input>\n\n                                                                                                            </td>\n\n                                                                                                            <td style={{ width: \"90px\" }}>\n                                                                                                                <input type=\"text\" style={{ border: \"transparent\", textAlign: \"center\", width: \"90px\" }}\n                                                                                                                    placeholder={\"단가\"}\n                                                                                                                    value={item[\"amount\"]}\n                                                                                                                    onInput={\n                                                                                                                        (e) => {\n                                                                                                                            changeItem(\"amount\", e.target.value.replace(/[^0-9]/g, ''), j, k);\n                                                                                                                        }}></input>\n\n                                                                                                            </td>\n\n                                                                                                            <td style={{ width: \"90px\", textAlign: \"center\" }}>\n                                                                                                                {item[\"totalAmount\"]}\n                                                                                                            </td>\n                                                                                                        </tr>)\n                                                                                                })\n                                                                                                }\n                                                                                            </tbody>\n                                                                                            <div style={{ display: \"flex\", justifyContent: \"center\", width: \"100%\" }}>\n                                                                                                <button className='submitButton' type='button' style={{ margin: \"0\" }}\n                                                                                                    onClick={() => {\n                                                                                                        var tempEditEventData = { ...eventData };\n\n                                                                                                        tempEditEventData[\"receiptList\"][j][\"receiptDetailList\"].push({\n                                                                                                            context: \"\",\n                                                                                                            price: \"\",\n                                                                                                            amount: \"\",\n                                                                                                            totalAmount: \"\"\n                                                                                                        })\n                                                                                                        setEventData(tempEditEventData)\n                                                                                                    }}>항목 추가</button></div>\n\n                                                                                        </table>\n\n                                                                                    </>\n                                                                                    )\n                                                                            }\n\n\n                                                                        </>)}\n                                                            </div>\n\n                                                            <div className=\"uploadimg\">\n\n                                                                {/* <label for='receiptImg'> */}\n                                                                <img src={processImage(receipt[\"receiptImg\"])} style={{ backgroundColor: \"var(--color-leftPanel)\" }}\n                                                                    alt={processImage(receipt[\"receiptImg\"])} height={\"150\"} width={\"100\"} title='영수증 사진'\n                                                                    onClick={() => { setShowImg(true) }}\n                                                                />\n\n                                                                {/* </label> */}\n\n                                                                <input type=\"file\" id=\"receiptImg\" accept=\"image/*\"\n                                                                    onChange={(e) => { uploadImg(e.target.files[0], j); }}\n                                                                ></input>\n                                                            </div>\n                                                        </div>\n\n                                                    )\n                                                })\n                                            }\n                                        </div>\n\n\n                                    }\n\n                                    <div style={{\n                                        width: \"650px\", display: \"flex\", justifyContent: \"center\", position: \"relative\",\n                                    }}>\n                                        <button className='editSubmitButton' type='button'\n                                            onClick={() => {\n                                                receiptAddButton();\n                                            }}><i class=\"fas fa-plus\"></i></button>\n                                    </div>\n\n                                </div>\n                                <div className=\"cardImg\"></div>\n\n                            </div>\n                        )\n                }\n            </div>\n            {/* </div> */}\n        </div>\n    )\n}\n\nexport default EditEvent;"]},"metadata":{},"sourceType":"module"}